+++
title = 'Boot'
date = 2025-01-05T00:20:22+09:00
draft = true
+++
## 소개

go는 컴파일 언어로 실행파일 생성.
정적 타입. 코드를 실행하기 전 타입을 다 알고있음.

참고)
Go 언어는 초기 컴파일러는 C로 작성되었지만, 현재는 Go로 작성된 gc 컴파일러가 주로 사용. Go 코드를 직접 기계어로 컴파일하여 실행 파일을 생성.

컴파일 에러 / 런타임 에러
-> 런타임시 메모리 관리, 고루틴 스케줄링 관리, 채널 통신(고루틴간 통신) 등이 이뤄짐.

런타임 언어는 실행하려면 python이 로컬에 설치되어있어야 하지만 
컴파일 언어는 실행파일만 다운받으면 됨.
즉 JS나 python은 프로덕션 모드에서 소스코드, 인터프리터가 필요.
(런타임시 인터프리터에 의해 코드를 실행)

컴파일 타임에 constant를 만들 수 있으나
const currentTime = time.Now() 처럼 런타임에만 compute되는 값을 상수로 넣을 순 없다.


* 메모리 장점
- Go 프로그램에는 Go Runtime이라는 바이너리가 포함되는데, 가비지 컬렉터를 런타임에 알아서 해준다.
- Java가 더 많은 메모리를 먹는 이유 중 하나는 virtual machine으로 런타임에 bytecode를 interpret하고, 힙에 더 많이 할당하기 때문.
- 반면 C는 Go보다 덜 먹는데 직접 메모리 관리를 할 제어권을 줘서.

---
## String
fmt.Sprintf
- 포맷 지시자를 찾고 인수를 변환,
버퍼에 작성, 문자열 반환 

C 에서 string은 1 byte이고 ASCII 인코딩으로 7비트로 128개 문자를 나타낸다. 
Go에선 string이 byte의 연속인데 rune(int32)와 같은 특별한 타입도 지닐 수 있고 유니코드 등 더 큰 것도 들어갈 수 있음을.
Go는 utf-8 가변길이 인코딩을 사용. 
-> ASCII 문자는 1바이트, 그 외는 2~4바이트로 인코딩. 

Go는 문자열을 바이트 단위로 접근하지만
유니코드는 여러 바이트로 구성될 수 있으므로
rune 타입으로 문자열을 슬라이스로 변환해야.

---

코드에 사용하지 않는 변수 선언이 있으면 Go 컴파일러가 오류를 발생시키므로 사용하지 않을 변수는 _로 무시해야한다.

* Named Return
- 함수 정의만 보고도 어떤 변수를 리턴하는지 알 수 있음. 초기화가 됨. 
- 반환할 변수가 많을 때 가독성이 좋음 (객체 반환 아닐때)
- 매개변수와 반환 매개변수 이름은 충돌하지 않아야함
func calculator(a, b int) (mul, div int, err error) {

* 함수가 일급객체.
* 익명함수
- 한번만 쓰이거나 quick 클로저를 만들때 유용

* Defer
리턴 직전에 실행할 수 있게 해주는 기능.
주로 안쓰는 릿스 클린업할 때 사용. DB 커넥션이라던가
finally 같은

* Closures
함수 body 바깥의 변수에 접근하는 함수

