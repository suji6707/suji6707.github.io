+++
title = '정규표현식'
date = 2024-10-21T00:20:22+09:00
draft = true
+++
## 기억해둘 RegExp

#### greedy & non-greedy

/.+X/  ~ "abcXabcXabcX"        /.+/  ~ "abcXabcXabcX"
          ^^^^^^^^^^^^                  ^^^^^^^^^^^^

/.+?X/ ~ "abcXabcXabcX"        /.+?/ ~ "abcXabcXabcX"
          ^^^^                          ^

- .은 모든 문자열(줄바꿈제외), +는 하나 이상
- /.+X/ 탐욕적. X가 등장하는 마지막까지 전부
- /.+/ 탐욕적. 모든 문자열
- /.+?X/ non-greedy. X가 등장하는 첫번째에서 멈춤 (abcX)
- /.+?/ non-greedy. 문자열이 등장하는 첫번째에서 멈춤 (a)

X가 등장하면 그것을 포함하지 않으려면?
- /.+?(?=X)/ X를 포함하지 않는 non-greedy (abc)
- /.+?(?=abc) 결과는 abcX. 최소 하나의 문자열과 매칭되어야하므로(적어도 빈 공백이지, ''는 아님) 첫번째 abc는 건너뛰고 다음의 abc. => abcX가 /.+?/에 매칭되는 것.

---
해시태그
- '\w+'는 하나 이상의 단어 문자(알파벳, 숫자, 언더스코어)
```js
/#\w+/
const text = "This is a #hashtag and this is ##doublehashtag";
const regex = /#\w+/g;
console.log(text.match(regex));  // 출력: ["#hashtag", "#doublehashtag"]
```
---
시작과 끝
/^[a-z].*[a-z]$/igm
- 참고로 .*는 .모든 문자열이 *(앞의 패턴이) 0번이상 반복.

/^[a-z](.*[a-z])?$/igm
- `^`: 시작
- `[a-z]`: 소문자 알파벳 하나
- `(.*[a-z])?`: 
  - `.*`: 어떤 문자든 0개 이상
  - `[a-z]`: 소문자 알파벳 하나
  - 전체가 `?`로 묶여 있어 이 그룹이 있거나 없을 수 있음
- `$`: 문자열의 끝
- `i` 플래그: 대소문자 구분 없음
- `g` 플래그: 전역 검색
- `m` 플래그: 다중 행 모드

즉, 이 정규표현식은 "소문자 알파벳으로 시작하고 끝나는 문자열"과 매치됩니다. 중간에는 어떤 문자가 오든 상관없으며, 심지어 다른 문자가 없어도 됩니다(시작과 끝이 같은 문자일 경우).

예를 들어, "a", "abc", "a123z", "abcdefg" 등이 이 패턴과 매치됩니다.

---
처음이나 끝에 있는 마침표(.)를 제거
| 는 or이라서 둘 중 하나만 제거하게되는데, g를 붙이면 전부 제거해줌.
`str.replace(/^\.|\.$/g, '');`

---
### `^` 시작 or NOT

정규표현식에서 `^`의 의미는 위치에 따라 다릅니다.

1. **문자 클래스 안에서 `[^...]`**: 
   - `^`가 대괄호 `[]` 안에 있을 때는 "NOT"을 의미합니다. 즉, 대괄호 안에 나열된 문자들을 제외한 나머지 문자들을 의미합니다.
   - 예를 들어, `[^a-z]`는 소문자 알파벳이 아닌 모든 문자를 의미합니다.

2. **문자 클래스 밖에서 `^`**:
   - 대괄호 밖에서 `^`는 문자열의 "시작"을 의미합니다.
   - 예를 들어, `^abc`는 문자열이 "abc"로 시작하는지를 확인합니다.

따라서, `/[^\w-_.]/g`에서 `[^...]`는 "NOT"의로 사용됩니다. 이 표현식은 
단어 문자(`\w`), 하이픈(`-`), 밑줄(`_`), 마침표(`.`)를 제외한 모든 문자를 찾습니다. `g` 플래그는 전역 검색을 의미하여 문자열 전체에서 일치하는 모든 부분을 찾습니다.

---
# 캡처링 그룹
- (\w+) 가 캡처하려는 문자열.
- 아래 예시에서는 match 결과의 인덱스 [1]로 github.com 앞의 도메인만 가져올 수. 

var url = 'https://rhostem.github.com'
var domain = /https?:\/\/(\w+)\.github.com/
url.search(domain) // 0
url.match(domain) // ["https://rhostem.github.com", "rhostem", index: 0, ...]

https?: http나 https와 매칭
://: ://와 매칭
(\w+): 단어 문자로 이루어진 문자열을 캡처하는 그룹
\.github\.com: .github.com과 매칭


