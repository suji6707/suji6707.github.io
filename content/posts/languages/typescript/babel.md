+++
title = 'Babel, tsc'
date = 2024-07-30T00:20:22+09:00
draft = true
+++

ğŸ’ 
tsconfig: íƒ€ì…ì²´í¬ë§Œ ìˆ˜í–‰í•˜ë„ë¡ ì„¤ì •
babelì—ì„œ ì‹¤ì œ ë³€í™˜(transfile) ìˆ˜í–‰.

"noEmit": true
ì´ ì˜µì…˜ì€ TypeScript ì»´íŒŒì¼ëŸ¬ì—ê²Œ ì½”ë“œë¥¼ íŠ¸ëœìŠ¤íŒŒì¼í•˜ê±°ë‚˜ íƒ€ì… ì„ ì–¸ íŒŒì¼ì„ ìƒì„±í•˜ì§€ ë§ë¼ê³  ì§€ì‹œí•œë‹¤. ì¦‰, tscëŠ” íƒ€ì… ì²´í‚¹ë§Œì„ ìˆ˜í–‰í•˜ê³ , ì‹¤ì œ ì½”ë“œì˜ ë³€í™˜ì€ babelì—ê²Œ ë§¡ê¸°ëŠ” ê²ƒì´ë‹¤.

"isolatedModules": true
ì´ ì˜µì…˜ì€ TypeScript ì»´íŒŒì¼ëŸ¬ì—ê²Œ ê° íŒŒì¼ì„ ëª¨ë“ˆë¡œ ì·¨ê¸‰í•˜ë¼ê³  ì§€ì‹œí•œë‹¤. ì¦‰, ê° íŒŒì¼ì„ ëª¨ë“ˆë¡œ ì·¨ê¸‰í•˜ë©´ íŒŒì¼ ê°„ì˜ ì˜ì¡´ì„±ì„ ì¶”ì í•  ìˆ˜ ìˆê³ , ì´ë¥¼ í†µí•´ ë” ë¹ ë¥¸ íƒ€ì… ì²´í‚¹ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.


@babel/preset-typescript ì€  @babel/plugin-transform-typescript í”ŒëŸ¬ê·¸ì¸ì„ í¬í•¨

---

## ğŸ’ğŸ’ğŸ’ ì¤‘ìš”. babel vs ts eslint, ê·¸ë¦¬ê³  tsc ğŸ’ğŸ’ğŸ’
ë°”ë²¨ì€ ts -> jsë¡œ ë³€í™˜ì€ ê°€ëŠ¥í•˜ë‚˜ íƒ€ì…ê²€ì‚¬ë¥¼ í•´ì£¼ì§€ ì•ŠìŒ.
ê·¸ë˜ì„œ tsconfigë¡œ js íŒŒì¼ì€ ìƒì„±í•˜ì§€ ì•Šë˜ íƒ€ì… d.tsì„ ìƒì„±í•˜ë„ë¡ ëª…ì‹œ.

ë°”ë²¨- tsë¥¼ eslint ì ìš©ì„ ëª»í•˜ëŠ”êµ¬ë‚˜-

buildë  ë•Œ eslintë¥¼ ì ìš©ì‹œì¼œì•¼í•œë‹¤.

* d.tsëŠ” tscê°€ ë§Œë“¤ì–´ì¤Œ.
tsë¥¼ ë¹Œë“œí•˜ë©´ jsê°€ ë˜ëŠ” ê³¼ì •ì—ì„œ d.tsê°€ ìƒì„±ë˜ì–´ ì™¸ë¶€ js,tsì—ì„œ ì“¸ë•Œ 
ê·¸ d.ts íŒŒì¼ì„ ë³´ê³  ì¶”ë¡ í•˜ê²Œ í•¨.

---
ğŸ”¹ ìŠ¤í…ì„ ë°Ÿì„ ë•Œë§ˆë‹¤ í•­ìƒ ë˜ëŠ”ì§€ í™•ì¸
ì•ˆë˜ì—ˆë‹¤ë©´ ë°©ê¸ˆ í•œ ê±¸ ë˜ëŒë¦¬ê±°ë‚˜, ì•„ë‹ˆë©´ ë” ë‚˜ì•„ê°€ê±°ë‚˜ ë‘˜ ì¤‘ í•˜ë‚˜.

ë¬¸ì œë¥¼ ì •í™•íˆ íŒŒì•….
tsc ë¹Œë“œê°€ ì•ˆë˜ëŠ” ê±°ë€ê±¸.
js íŒŒì¼ì´ ìƒê²¨ì•¼í•˜ëŠ”ë° gulpì— .pipeë¡œ tsë¥¼ ë„£ëŠ”ê²ƒë§Œìœ¼ë¡  ì•ˆìƒê¹€. ts({})ë§Œ í•˜ë©´ ë˜ëŠ”ë° configë¥¼ ë„£ëŠ”ìˆœê°„ ì•ˆë¨..
-> gulpëŠ” watch ëª¨ë“œì´ê³  tscëŠ” ë¹Œë“œë¼ì„œ ë­”ê°€ í˜¸í™˜ì´ ì•ˆë˜ëŠ”.
-> commitì‹œ ê²€ì‚¬ë¥¼ í•˜ì!

husky. 
- git push ë‹¨ê³„ì—ì„œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ .husky/sh
- sh ì‹¤í–‰ì‹œ tscë¥¼ í•˜ëŠ”ë°, noEmit ì˜µì…˜ìœ¼ë¡œ.

* íŠ¸ëœìŠ¤íŒŒì¼ë§ì€ babel, íƒ€ì…ì€ tsc
jsëŠ” ë°”ë²¨ preset-typescriptê°€ ë§Œë“œëŠ”ê±°ê³ 
typescriptëŠ” íƒ€ì…ê²€ì‚¬, .d.tsë§Œ ìƒì„±í•˜ë©´ ë¨. ë”°ë¼ì„œ noEmit.
ğŸ”º ì–´ì¨Œë“  ì¼ë°˜ nestjsì™€ ë‹¬ë¦¬ serverì—ì„œëŠ”
d.tsë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ë‚´ë¶€ì ìœ¼ë¡œ ë¹Œë“œ/íƒ€ì…ê²€ì‚¬í• ë•Œë§Œ ë¡œì§ìƒ ê±°ì¹˜ëŠ”ë“¯.

* tsconfig
"compilerOptions": {
  // tscë¥¼ ì‚¬ìš©í•´ .js íŒŒì¼ì´ ì•„ë‹Œ .d.ts íŒŒì¼ì´ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
  "declaration": true,
  "emitDeclarationOnly": true,
  // Babelì´ TypeScript í”„ë¡œì íŠ¸ì˜ íŒŒì¼ì„ ì•ˆì „í•˜ê²Œ íŠ¸ëœìŠ¤íŒŒì¼í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
  "isolatedModules": true
}


(ì°¸ê³ )
tsconfig
"typeRoots": ["./node_modules/@types"],       
"types": ["./types", "jest"], 

{
  "compilerOptions": {
    // ì‚¬ìš©ì ì •ì˜ íƒ€ì…ê³¼ @types ëª¨ë‘ ì‚¬ìš©
    "typeRoots": [
      "./node_modules/@types",
      "./custom-types"
    ],
    // íŠ¹ì • íŒ¨í‚¤ì§€ë§Œ í¬í•¨
    "types": [
      "node",
      "jest",
      "custom-type-package"
    ]
  }
}