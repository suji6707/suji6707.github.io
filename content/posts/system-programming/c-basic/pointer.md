+++
title = 'C λ©”λ¨λ¦¬ ν¬μΈν„°'
date = 2024-12-18T00:20:22+09:00
draft = true
+++
## λ©”λ¨λ¦¬ ν¬μΈν„°

---
sizeof(struct)λ” κ° ν•„λ“ size ν•©κ³Ό λ‹¤λ¥Ό μ μλ‹¤.
4byte or 8byteμ— alignν•κ² μ ‘κ·Όν•κ² ν•λ” padding λ•λ¬Έμ—. 

ν•„λ“ μμ„λ¥Ό largest to smallestλ΅ ν•λ” κ²ƒμ΄ paddingμ„ μµμ†ν™”ν•  μ μλ‹¤.

ν¬μΈν„°(char *name)λ” 8λ°”μ΄νΈ(64bit)

printf("The address of age is: %p\n", &age);
- &λ΅ λ³€μμ μ£Όμ†μ— μ ‘κ·Όν•  μ μλ‹¤. %pλ” ν¬μΈν„° formatter.

long long : 8 byte (32/64 bit)
-> μ£Όμ† &λ” 4 byte λ°ν™

### κ°€μƒλ©”λ¨λ¦¬
ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•λ©΄ ν”„λ΅μ„Έμ¤κ°€ λκ³ , OSλ΅λ¶€ν„° μΌμ • ν¬κΈ°μ κ°€μƒλ©”λ¨λ¦¬λ¥Ό λ¶€μ—¬λ°›λ”λ‹¤.
κ°€μƒλ©”λ¨λ¦¬ μ²΄μ  λ•λ¶„μ—
ν”„λ΅μ„Έμ¤κ°„ isolationμ΄ λκ³ , κ°λ°μ μ…μ¥μ—μ„  λ¬Όλ¦¬ λ©”λ¨λ¦¬λ¥Ό κ΄€λ¦¬ν•  ν•„μ”κ°€ μ—†λ‹¤. 

μΈμλ΅ structλ¥Ό λ„κΈ°λ©΄ κ°’λ³µμ‚¬κ°€ μΌμ–΄λ‚λ―€λ΅ μ›λ³Έμ΄ μ•λ°”λ€
-> ν¬μΈν„°λ¥Ό λ„κ²¨μ•Ό μ°Έμ΅°ν•΄μ„ μ›λ³Έ κ°’μ„ λ°”κΏ.

μ΄κΈ°ν™”
coordinate_t new_coord = {new_x, coord.y, coord.z};

pointer->field λ΅ μ°Έμ΅°.

"Dereferencing"μ€ κ°„μ ‘ μ°Έμ΅°λ¥Ό ν’€μ–΄μ„ μ‹¤μ  κ°’μ„ μ–»λ” κ²ƒ.
int x = 42;
int *p = &x;  // pλ” xμ μ£Όμ†λ¥Ό μ°Έμ΅°(reference)
*p;           // μ°Έμ΅°λ¥Ό ν•΄μ (de-reference)ν•μ—¬ μ‹¤μ  κ°’ 42λ¥Ό κ°€μ Έμ΄


λ°°μ—΄μ μ΄λ¦„μ€ λ°°μ—΄ μ²«λ²μ§Έ μ›μ†λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°λ΅ μ—­ν• ν•λ‹¤.
int value = *(numbers + 2); -> ν¬μΈν„°μ—μ„ λ‘ λ²μ§Έ μΈλ±μ¤μ— λ€ν• μ—­μ°Έμ΅°(κ°’)
ν¬μΈν„°μ— μ •μλ¥Ό λ”ν•λ©΄ offset * sizeof type μ μ„μΉλ΅ κ°„λ‹¤. μ΄ μ—­μ‹ ν¬μΈν„°.


---
## π’Array Decay

λ°°μ—΄μ΄ ν¬κΈ° μ •λ³΄λ¥Ό μƒλ” μ£Όμ” μƒν™©λ“¤μ„ μ„¤λ…ν•΄λ“λ¦¬κ² μµλ‹λ‹¤:

1. ν•¨μμ— λ§¤κ°λ³€μλ΅ μ „λ‹¬λ  λ•:
```c
void func(int arr[]) {  // μ—¬κΈ°μ„ λ°°μ—΄μ€ ν¬μΈν„°λ΅ decay
    sizeof(arr);        // ν¬μΈν„° ν¬κΈ°λ§ λ°ν™
}
```

2. ν¬μΈν„°μ— ν• λ‹Ήλ  λ•:
```c
int array[5] = {1,2,3,4,5};
int* ptr = array;           // μ—¬κΈ°μ„ decay λ°μƒ
sizeof(ptr);               // ν¬μΈν„° ν¬κΈ°λ§ λ°ν™
```

3. λ°°μ—΄μ΄ ν‘ν„μ‹μ—μ„ μ‚¬μ©λ  λ•:
```c
int array[5];
int value = *(array + 2);  // λ°°μ—΄μ΄ ν¬μΈν„°λ΅ decay
```

λ°λ©΄, λ°°μ—΄ ν¬κΈ°κ°€ μ μ§€λλ” κ²½μ°:
```c
int array[5];
sizeof(array);              // μ „μ²΄ λ°°μ—΄ ν¬κΈ° μ μ§€
int (*ptr)[5] = &array;    // λ°°μ—΄μ— λ€ν• ν¬μΈν„°
```

κ·€ν•μ μ½”λ“μ—μ„:
```c
int main() {
    int core_utilization[] = {43, 67, 89, 92, 71, 43, 56, 12};
    sizeof(core_utilization);    // μ—¬κΈ°μ„λ” μ‹¤μ  λ°°μ—΄ ν¬κΈ° (32)

    core_utils_func(core_utilization);  // μ—¬κΈ°μ„ decay λ°μƒ
}

void core_utils_func(int core_utilization[]) {
    sizeof(core_utilization);    // μ—¬κΈ°μ„λ” ν¬μΈν„° ν¬κΈ° (8)
}
```

μ¦‰, λ°°μ—΄μ΄ μ„ μ–Έλ λ²”μ„ λ‚΄μ—μ„λ” ν¬κΈ° μ •λ³΄λ¥Ό μ μ§€ν•μ§€λ§, λ‹¤λ¥Έ μ»¨ν…μ¤νΈλ΅ μ „λ‹¬λλ©΄ ν¬κΈ° μ •λ³΄λ¥Ό μƒκ² λ©λ‹λ‹¤.

---

