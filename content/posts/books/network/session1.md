+++
title = '스터디 1회차 Q&A'
date = 2024-05-07T00:20:22+09:00
draft = true
+++
네트워크 회선 

IP는 Best Effort일 뿐,
순서/손실 등을 보장하지 않음.
아무리 offset으로 순서 다 fragment에 있어도.

라우터가 곧 게이트웨이 역할도 하고있음.

---
VLAN은 하나의 가상화를 논리적으로 쪼개는 것 

VPN은 엔드투엔드 연결.
- 터널링이 붙으면 성능상 부하는 있음.
근데 인캡/디캡이 실질적으로 엄청 부담은 아님
VPN 장비가 100명 쓰던게 1000명이 되면 부하 버버벅거림.


🏀 회선의 종류
1. 인터넷 회선 - 일반적으로 가정에서 쓰는. 최대속도랑 보장속도랑 다름. 한 회선을 여러 사용자가 나눠쓰는거라
2. 전용회선
3. 인터넷 전용회선 

🏀 서울 - 부산 전용회선 연결?
- 전용회선은 직접 회선 구축하는거라 엄청 비싼데
- 인터넷 전용선은 통신사업자와 연결.
대역폭에 대해서만 단가가 매겨져있음

VPN도 마찬가지.
인터넷 회선을 끌어다놓고 그 안의 구간을 터널링.
전화국까지만 가면, 그 사이를 통신사가 해주는 것.

VPN이란?
외부 다른 곳에서 시작하는 것처럼.
만약에 residential IP들을 VPN으로 할 수는?

🏀 IDC 외부 네트워크 비용이 AWS보다 싼 이유?
전용회선은 계약한 범위 내에서 
자유롭게 쓰는거고
모바일같은 경우 사용량 기반(종량제)
AWS가 후자라서 비쌀 수.
IDC는 우리 고객사가 이정도다 - 해서 전용회선을 구축해두었을텐데. 그 안에서는 어느정도 가변적으로 허용.
- 근데 너무 커서 다른 고객사가 영향받으면 더 시설 늘려야할 수 있어서..

🏀 IPv4에서 사설 IP 주소로 지정된 범위
10.0.0.0부터 10.255.255.255
172.16.0.0부터 172.31.255.255
192.168.0.0부터 192.168.255.255

- 회사 내에서만 통신하면 
10.0.0.0 쪽 많이 씀.
172.16.0.0 도 쓰고

- 192.168은 대부분 공유기.

즉 가정내 네트워크 기본 IP 주소가 192.168.0.1이라는 건 
사설 IP라는 것을 의미. (특정 범위 주소가 사설 네트워크용으로 예약
이러한 주소들은 인터넷에 공개적으로 라우팅되지 않으며, 사내 또는 가정 내부 네트워크에서만 사용됩니다

첫번째 호스트주소 1은 기본 게이트웨이

🏀 사실 IPv4 는 한국에선 끝났음.
있던거 돌려쓰고..
NAT 에서 다 기술이 있어서 .

🏀 MAC 주소와 ARP
나랑 다른 네트워크일 때만 게이트웨이를 씀.
같은 네트워크 안에서는 ARP 요청으로 
요청 받은애가 MAC주소를 던져줌.
(ARP, address resolution protocol은 IP 주소로 MAC 주소를 찾기 위해 사용)

다른 네트워크면 ARP 요청을 게이트웨이에 던짐.
(MAC를 바로 알 수 없어서)

MAC주소라는 건 네트워크를 거칠때마다 바뀜

나- 통신사- 네이버
mac주소가 A로 가고.
실제 목적지 IP는 E지만.
mac주소는 그다음장비의 MAC주소, 그다음 장비의 MAC주소로.
L3 거칠 때마다 계속 바뀜(구간과 장비를 거칠때마다 치환됨)
목적지 IP만 그대로. 

trace route -> 홉들. 하나하나가 L3 장비임.

🏀 클라우드는 ARP를 안씀. 내부 통신이 다 있음.
대신 서브넷 개념은 알아야 함.
-> 클라우드가 나오면서 라우팅은 알아야💎

🏀 서브넷의 네트워크 주소는 왜 알아야하지?
"서브넷은 우체국이다"
IP 주소와 서브넷 마스크
이 두 값을 AND 연산하면, 네트워크 부분은 그대로 유지되고 호스트 부분은 0으로 설정됩니다. 결과적으로 이는 해당 IP 주소가 속한 네트워크의 베이스 주소(네트워크 주소)를 제공합니다.
-> 라우터 테이블 간소화: 서브넷팅을 사용하면 라우터는 개별 호스트 주소 대신 서브넷 주소만을 라우팅 테이블에 저장할 수 있습니다. 이는 라우팅 테이블의 크기를 줄여서 라우터의 메모리 사용량을 감소시키고, 라우터의 처리 속도를 빠르게 합니다.

🏀 OSI - 위 계층이 아래 계층을 포함함.
위 계층일수록 장비 부하도 크고. 인캡/디캡 다 하는거라.

IP 3계층이라는 건
3계층 이하는 다 본다는것.
4계층인 방화벽, VPN은 3계층인 IP를 보고있음.

같은 방화벽도 L4보다 L7 성능 차이가 큼.
10GB도 안나오거나. 패킷을 많이 까야해서.
VPN은 여기서 인캡/디캡이 더 많이 붙는거고.